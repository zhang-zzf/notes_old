### CAP
- Consistency
- Availablity
- Partition Tolerance

#### 一致性
> 一致性，这个和数据库ACID的一致性类似，但这里关注的所有数据节点上的数据一致性
和正确性，而数据库的ACID关注的是在在一个事务内，对数据的一些约束

#### 可用性
> 每个操作总能在**一定时间**内**返回结果**。

#### 分区容忍性
> 是否可以对数据进行分区，性能和可伸缩性。

#### CAP定理
> 一个提供数据服务的的存储系统无法同时满足数据一致性、数据可用性和数据分区可容
忍性3个条件。
> 1. 若对数据进行分区，则无法同时满足一致性和数据的高可用。
> 1. 对于大型的的网站，数据规模会快速扩张，因此可伸缩性也是就是分区容忍性必不
可少，对于高并发/高可用的系统，会牺牲一部分一致性
> 应用系统需要对数据系统的不一致性进行一定的补偿和纠错，以避免应用系统出现数据
错误。

#### 数据一致性模型
分布式系统通过复制数据副本来提高系统的可靠性和高可用，并将数据副本放置到不同的
服务器上，由于维护数据一致性代价太高，许多系统会牺牲一部分一致性来提高性能。
- 强一致性。要求无论更新操作在那个副本上执行，之后所有的读操作都要获取最新的数
据。
- 弱一致性。对数据系统进行更新操作后，需要一定的时间，然后读操作才能获取到最新
的数据。
- 最终一致性。是弱一致性的一种特例，表示用户**最终**能读取到某操作对系统特定数
据的更新。

#### Quorum系统的NRW策略
该协议中有以下3个关键字N、R、W
- N表示数据所具有的副本数
- R表示完成读取所需要的最小副本数
- W表示完成写入操作所需要的最小副本数
只要满足R+W>N就能保证数据的强一致性。R+W>N表示写入和读取的副本会有重叠。如果R+W
<=N只能保证最终一致性。副本一致性的时间取决于系统异步更新的实现方式，不一致的
时间窗口的大小等于从更新开始到所有数据副本异步完成更新所需要的时间。

> 特殊的情况
> 1. W=1,R=N 写操作高性能，读操作非常慢，N个节点中有一个出现故障，读不可用。
> 1. W=N,R=1 读操作高性能，写操作非常慢，N个节点中有一个出现故障，写不可用。
> 1. W=R=(N/2 + 1),读写达到平衡，兼顾了性能和可用性。





